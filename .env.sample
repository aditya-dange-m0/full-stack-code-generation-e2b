# ==================================
# AI Code Generation Backend - Environment Variables
# ==================================

# Application Configuration
NODE_ENV=development
PORT=3000

# ==================================
# E2B Sandbox Configuration
# ==================================

# E2B API Key for sandbox deployment (REQUIRED)
E2B_API_KEY=your_e2b_api_key_here

# E2B Sandbox Template ID
E2B_TEMPLATE_ID=nest-next-generator-sandbox

# E2B Sandbox Configuration
E2B_TIMEOUT=300000
E2B_MAX_INSTANCES=5

# ==================================
# AI Provider API Keys (Choose at least one)
# ==================================

# OpenAI Configuration (GPT-4, GPT-3.5-turbo) - RECOMMENDED
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_TEMPERATURE=0.3

# Anthropic Configuration (Claude models)
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Google AI Configuration (Gemini models)
GOOGLE_AI_API_KEY=your_google_ai_api_key_here
GOOGLE_AI_MODEL=gemini-pro

# Default AI Provider (openai, anthropic, or google)
DEFAULT_AI_PROVIDER=openai

# ==================================
# Tech Stack Defaults (Strict Mode)
# ==================================

# These enforce the strict tech stack validation
DEFAULT_FRONTEND=react
DEFAULT_BACKEND=fastapi
DEFAULT_DATABASE=mongodb
DEFAULT_STYLING=tailwind

# ==================================
# Code Generation Configuration
# ==================================

# Maximum prompt length
MAX_PROMPT_LENGTH=5000

# Maximum features per request
MAX_FEATURES_COUNT=20

# AI Generation Settings
AI_MAX_TOKENS=4000
AI_TEMPERATURE=0.3
AI_TOP_P=1.0

# ==================================
# Database Configuration (Optional)
# ==================================

# MongoDB for storing conversation history and project context
MONGODB_URI=mongodb://localhost:27017/code-generation
MONGODB_DATABASE=code_generation

# Redis for caching (optional)
REDIS_URL=redis://localhost:6379
REDIS_TTL=3600

# ==================================
# Security Configuration
# ==================================

# JWT Secret for authentication (if implementing auth)
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=24h

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

# ==================================
# Logging Configuration
# ==================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Log to file
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/app.log

# ==================================
# Feature Flags
# ==================================

# Enable streaming generation
ENABLE_STREAMING=true

# Enable conversation context
ENABLE_CONVERSATION_CONTEXT=true

# Enable project modification
ENABLE_PROJECT_MODIFICATION=true

# Enable template generation
ENABLE_TEMPLATE_GENERATION=true

# Enable sandbox deployment
ENABLE_SANDBOX_DEPLOYMENT=true

# ==================================
# Development & Testing
# ==================================

# Enable debug mode
DEBUG=true

# Enable AI mocking for testing (uses templates instead of AI)
MOCK_AI_RESPONSES=false

# Test API endpoints without rate limiting
DISABLE_RATE_LIMITING=false

# ==================================
# Performance Configuration
# ==================================

# Request timeout (in milliseconds)
REQUEST_TIMEOUT=300000

# Memory limit for AI processing
AI_MEMORY_LIMIT=2048

# ==================================
# File Storage Configuration
# ==================================

# Local file storage path for generated projects
GENERATED_PROJECTS_PATH=./generated-projects

# Maximum file size for uploads (in MB)
MAX_FILE_SIZE_MB=10

# ==================================
# Monitoring & Analytics (Optional)
# ==================================

# Application monitoring
SENTRY_DSN=your_sentry_dsn_here

# Analytics
MIXPANEL_TOKEN=your_mixpanel_token_here

# ==================================
# Email Configuration (Optional)
# ==================================

# SMTP Configuration for notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_email_password_here

# ==================================
# Webhook Configuration (Optional)
# ==================================

# Webhook URL for deployment notifications
WEBHOOK_URL=https://your-webhook-url.com/notifications
WEBHOOK_SECRET=your_webhook_secret_here

# ==================================
# Backup Configuration (Optional)
# ==================================

# Backup generated projects to cloud storage
BACKUP_ENABLED=false
BACKUP_PROVIDER=aws
AWS_S3_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1

# ==================================
# Quick Setup Guide
# ==================================

# MINIMUM REQUIRED for basic functionality:
# 1. E2B_API_KEY=your_e2b_api_key_here
# 2. OPENAI_API_KEY=your_openai_api_key_here (or another AI provider)

# RECOMMENDED for full functionality:
# 3. MONGODB_URI=mongodb://localhost:27017/code-generation
# 4. JWT_SECRET=your_secure_jwt_secret
# 5. CORS_ORIGIN=http://localhost:3000

# PRODUCTION READY:
# 6. NODE_ENV=production
# 7. LOG_LEVEL=warn
# 8. RATE_LIMIT_MAX_REQUESTS=50